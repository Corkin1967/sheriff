(()=>{var t={228:t=>{t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}},646:(t,e,r)=>{var n=r(228);t.exports=function(t){if(Array.isArray(t))return n(t)}},506:t=>{t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},926:t=>{function e(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}t.exports=function(t){return function(){var r=this,n=arguments;return new Promise((function(i,o){var a=t.apply(r,n);function s(t){e(a,i,o,s,u,"next",t)}function u(t){e(a,i,o,s,u,"throw",t)}s(void 0)}))}}},575:t=>{t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},913:t=>{function e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}},713:t=>{t.exports=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}},525:(t,e,r)=>{var n=r(331);function i(e,r,o){return"undefined"!=typeof Reflect&&Reflect.get?t.exports=i=Reflect.get:t.exports=i=function(t,e,r){var i=n(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(r):o.value}},i(e,r,o||e)}t.exports=i},754:t=>{function e(r){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},e(r)}t.exports=e},205:(t,e,r)=>{var n=r(489);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}},860:t=>{t.exports=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}},206:t=>{t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},585:(t,e,r)=>{var n=r(8),i=r(506);t.exports=function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?i(t):e}},489:t=>{function e(r,n){return t.exports=e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},e(r,n)}t.exports=e},331:(t,e,r)=>{var n=r(754);t.exports=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=n(t)););return t}},319:(t,e,r)=>{var n=r(646),i=r(860),o=r(323),a=r(206);t.exports=function(t){return n(t)||i(t)||o(t)||a()}},8:t=>{function e(r){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=e=function(t){return typeof t}:t.exports=e=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(r)}t.exports=e},323:(t,e,r)=>{var n=r(228);t.exports=function(t,e){if(t){if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}},757:(t,e,r)=>{t.exports=r(666)},772:(t,e,r)=>{"use strict";r.d(e,{Z:()=>y});var n=r(81),i=r.n(n),o=r(645),a=r.n(o),s=r(667),u=r.n(s),c=new URL(r(703),r.b),l=new URL(r(692),r.b),h=new URL(r(175),r.b),f=new URL(r(787),r.b),d=a()(i()),p=u()(c),v=u()(l),m=u()(h),g=u()(f);d.push([t.id,"body {\r\n    background-color: black;\r\n    background-size: cover;\r\n    color: white;\r\n    overflow: hidden;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    margin: 0;\r\n    padding: 0;\r\n}\r\nbody.l0 {background-image: url("+p+");}\r\nbody.l1 {background-image: url("+v+");}\r\nbody.l2 {background-image: url("+m+");}\r\nbody.l3 {background-image: url("+g+");}\r\nbody div.notify {\r\n    margin: 0;\r\n    font-family: fantasy;\r\n    font-size: xxx-large;\r\n}\r\ncanvas {width: 100vw; height: 100vh; cursor: crosshair;}\r\n",""]);const y=d},645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var r="",n=void 0!==e[5];return e[4]&&(r+="@supports (".concat(e[4],") {")),e[2]&&(r+="@media ".concat(e[2]," {")),n&&(r+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),r+=t(e),n&&(r+="}"),e[2]&&(r+="}"),e[4]&&(r+="}"),r})).join("")},e.i=function(t,r,n,i,o){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(n)for(var s=0;s<this.length;s++){var u=this[s][0];null!=u&&(a[u]=!0)}for(var c=0;c<t.length;c++){var l=[].concat(t[c]);n&&a[l[0]]||(void 0!==o&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=o),r&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=r):l[2]=r),i&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=i):l[4]="".concat(i)),e.push(l))}},e}},667:t=>{"use strict";t.exports=function(t,e){return e||(e={}),t?(t=String(t.__esModule?t.default:t),/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]|(%20)/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t):t}},81:t=>{"use strict";t.exports=function(t){return t[1]}},666:t=>{var e=function(t){"use strict";var e,r=Object.prototype,n=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,o=Object.create(i.prototype),a=new C(n||[]);return o._invoke=function(t,e,r){var n=h;return function(i,o){if(n===d)throw new Error("Generator is already running");if(n===p){if("throw"===i)throw o;return L()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=E(a,r);if(s){if(s===v)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===h)throw n=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=d;var u=l(t,e,r);if("normal"===u.type){if(n=r.done?p:f,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=p,r.method="throw",r.arg=u.arg)}}}(t,r,a),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var h="suspendedStart",f="suspendedYield",d="executing",p="completed",v={};function m(){}function g(){}function y(){}var w={};w[o]=function(){return this};var b=Object.getPrototypeOf,x=b&&b(b(P([])));x&&x!==r&&n.call(x,o)&&(w=x);var M=y.prototype=m.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function r(i,o,a,s){var u=l(t[i],t,o);if("throw"!==u.type){var c=u.arg,h=c.value;return h&&"object"==typeof h&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(h).then((function(t){c.value=t,a(c)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}var i;this._invoke=function(t,n){function o(){return new e((function(e,i){r(t,n,e,i)}))}return i=i?i.then(o,o):o()}}function E(t,r){var n=t.iterator[r.method];if(n===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=e,E(t,r),"throw"===r.method))return v;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(n,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var o=i.arg;return o?o.done?(r[t.resultName]=o.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function P(t){if(t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}return{next:L}}function L(){return{value:e,done:!0}}return g.prototype=M.constructor=y,y.constructor=g,g.displayName=u(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,u(t,s,"GeneratorFunction")),t.prototype=Object.create(M),t},t.awrap=function(t){return{__await:t}},k(T.prototype),T.prototype[a]=function(){return this},t.AsyncIterator=T,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new T(c(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(M),u(M,s,"Generator"),M[o]=function(){return this},M.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function i(n,i){return s.type="throw",s.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),A(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;A(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}},379:t=>{"use strict";var e=[];function r(t){for(var r=-1,n=0;n<e.length;n++)if(e[n].identifier===t){r=n;break}return r}function n(t,n){for(var o={},a=[],s=0;s<t.length;s++){var u=t[s],c=n.base?u[0]+n.base:u[0],l=o[c]||0,h="".concat(c," ").concat(l);o[c]=l+1;var f=r(h),d={css:u[1],media:u[2],sourceMap:u[3],supports:u[4],layer:u[5]};if(-1!==f)e[f].references++,e[f].updater(d);else{var p=i(d,n);n.byIndex=s,e.splice(s,0,{identifier:h,updater:p,references:1})}a.push(h)}return a}function i(t,e){var r=e.domAPI(e);return r.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;r.update(t=e)}else r.remove()}}t.exports=function(t,i){var o=n(t=t||[],i=i||{});return function(t){t=t||[];for(var a=0;a<o.length;a++){var s=r(o[a]);e[s].references--}for(var u=n(t,i),c=0;c<o.length;c++){var l=r(o[c]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}o=u}}},569:t=>{"use strict";var e={};t.exports=function(t,r){var n=function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}(t);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(r)}},216:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,r)=>{"use strict";t.exports=function(t){var e=r.nc;e&&t.setAttribute("nonce",e)}},795:t=>{"use strict";t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(r){!function(t,e,r){var n="";r.supports&&(n+="@supports (".concat(r.supports,") {")),r.media&&(n+="@media ".concat(r.media," {"));var i=void 0!==r.layer;i&&(n+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),n+=r.css,i&&(n+="}"),r.media&&(n+="}"),r.supports&&(n+="}");var o=r.sourceMap;o&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(n,t,e.options)}(e,t,r)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},703:(t,e,r)=>{"use strict";t.exports=r.p+"b262a1f88b86610f2707.jpg"},692:(t,e,r)=>{"use strict";t.exports=r.p+"27d37b99c78c7b5f5e13.jpg"},175:(t,e,r)=>{"use strict";t.exports=r.p+"18a9a5a541590f42538d.jpg"},787:(t,e,r)=>{"use strict";t.exports=r.p+"d4d202ec4e2e51aead8b.jpg"}},e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={id:n,exports:{}};return t[n](i,i.exports,r),i.exports}r.m=t,r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t;r.g.importScripts&&(t=r.g.location+"");var e=r.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");n.length&&(t=n[n.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=t})(),r.b=document.baseURI||self.location.href,(()=>{"use strict";var t=r(757),e=r.n(t),n=r(926),i=r.n(n),o=r(575),a=r.n(o),s=r(913),u=r.n(s),c=r(525),l=r.n(c),h=r(205),f=r.n(h),d=r(585),p=r.n(d),v=r(754),m=r.n(v),g=r(379),y=r.n(g),w=r(795),b=r.n(w),x=r(569),M=r.n(x),k=r(565),T=r.n(k),E=r(216),S=r.n(E),A=r(589),C=r.n(A),P=r(772),L={};L.styleTagTransform=C(),L.setAttributes=T(),L.insert=M().bind(null,"head"),L.domAPI=b(),L.insertStyleElement=S(),y()(P.Z,L),P.Z&&P.Z.locals&&P.Z.locals;var R=r(319),I=r.n(R),_=r(713),D=r.n(_),j="undefined"!=typeof Float32Array?Float32Array:"undefined"!=typeof WebGLFloatArray?WebGLFloatArray:Array,N=function(t){var e=new j(3);return t&&(e[0]=t[0],e[1]=t[1],e[2]=t[2]),e},O=function(t,e,r){return r&&t!=r?(r[0]=t[0]-e[0],r[1]=t[1]-e[1],r[2]=t[2]-e[2],r):(t[0]-=e[0],t[1]-=e[1],t[2]-=e[2],t)},F=function(t,e,r){return r&&t!=r?(r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e,r):(t[0]*=e,t[1]*=e,t[2]*=e,t)},U=function(t,e){e||(e=t);var r=t[0],n=t[1],i=t[2],o=Math.sqrt(r*r+n*n+i*i);return o?1==o?(e[0]=r,e[1]=n,e[2]=i,e):(o=1/o,e[0]=r*o,e[1]=n*o,e[2]=i*o,e):(e[0]=0,e[1]=0,e[2]=0,e)},G=function(t,e,r){r||(r=t);var n=t[0],i=t[1];t=t[2];var o=e[0],a=e[1];return e=e[2],r[0]=i*e-t*a,r[1]=t*o-n*e,r[2]=n*a-i*o,r},z=function(t){var e=new j(9);return t&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9]),e},W=function(t,e){if(!e||t==e){var r=t[1],n=t[2],i=t[5];return t[1]=t[3],t[2]=t[6],t[3]=r,t[5]=t[7],t[6]=n,t[7]=i,t}return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],e},B={create:function(t){var e=new j(16);return t&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e},set:function(t,e){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},transpose:function(t,e){if(!e||t==e){var r=t[1],n=t[2],i=t[3],o=t[6],a=t[7],s=t[11];return t[1]=t[4],t[2]=t[8],t[3]=t[12],t[4]=r,t[6]=t[9],t[7]=t[13],t[8]=n,t[9]=o,t[11]=t[14],t[12]=i,t[13]=a,t[14]=s,t}return e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15],e},determinant:function(t){var e=t[0],r=t[1],n=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],c=t[8],l=t[9],h=t[10],f=t[11],d=t[12],p=t[13],v=t[14];return d*l*s*i-c*p*s*i-d*a*h*i+o*p*h*i+c*a*v*i-o*l*v*i-d*l*n*u+c*p*n*u+d*r*h*u-e*p*h*u-c*r*v*u+e*l*v*u+d*a*n*f-o*p*n*f-d*r*s*f+e*p*s*f+o*r*v*f-e*a*v*f-c*a*n*(t=t[15])+o*l*n*t+c*r*s*t-e*l*s*t-o*r*h*t+e*a*h*t},inverse:function(t,e){e||(e=t);var r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],l=t[8],h=t[9],f=t[10],d=t[11],p=t[12],v=t[13],m=t[14],g=t[15],y=r*s-n*a,w=r*u-i*a,b=r*c-o*a,x=n*u-i*s,M=n*c-o*s,k=i*c-o*u,T=l*v-h*p,E=l*m-f*p,S=l*g-d*p,A=h*m-f*v,C=h*g-d*v,P=f*g-d*m,L=1/(y*P-w*C+b*A+x*S-M*E+k*T);return e[0]=(s*P-u*C+c*A)*L,e[1]=(-n*P+i*C-o*A)*L,e[2]=(v*k-m*M+g*x)*L,e[3]=(-h*k+f*M-d*x)*L,e[4]=(-a*P+u*S-c*E)*L,e[5]=(r*P-i*S+o*E)*L,e[6]=(-p*k+m*b-g*w)*L,e[7]=(l*k-f*b+d*w)*L,e[8]=(a*C-s*S+c*T)*L,e[9]=(-r*C+n*S-o*T)*L,e[10]=(p*M-v*b+g*y)*L,e[11]=(-l*M+h*b-d*y)*L,e[12]=(-a*A+s*E-u*T)*L,e[13]=(r*A-n*E+i*T)*L,e[14]=(-p*x+v*w-m*y)*L,e[15]=(l*x-h*w+f*y)*L,e},toRotationMat:function(t,e){return e||(e=B.create()),e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},toMat3:function(t,e){return e||(e=z()),e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e},toInverseMat3:function(t,e){var r=t[0],n=t[1],i=t[2],o=t[4],a=t[5],s=t[6],u=t[8],c=t[9],l=t[10],h=l*a-s*c,f=-l*o+s*u,d=c*o-a*u,p=r*h+n*f+i*d;return p?(p=1/p,e||(e=z()),e[0]=h*p,e[1]=(-l*n+i*c)*p,e[2]=(s*n-i*a)*p,e[3]=f*p,e[4]=(l*r-i*u)*p,e[5]=(-s*r+i*o)*p,e[6]=d*p,e[7]=(-c*r+n*u)*p,e[8]=(a*r-n*o)*p,e):null},multiply:function(t,e,r){r||(r=t);var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],h=t[8],f=t[9],d=t[10],p=t[11],v=t[12],m=t[13],g=t[14];t=t[15];var y=e[0],w=e[1],b=e[2],x=e[3],M=e[4],k=e[5],T=e[6],E=e[7],S=e[8],A=e[9],C=e[10],P=e[11],L=e[12],R=e[13],I=e[14];return e=e[15],r[0]=y*n+w*s+b*h+x*v,r[1]=y*i+w*u+b*f+x*m,r[2]=y*o+w*c+b*d+x*g,r[3]=y*a+w*l+b*p+x*t,r[4]=M*n+k*s+T*h+E*v,r[5]=M*i+k*u+T*f+E*m,r[6]=M*o+k*c+T*d+E*g,r[7]=M*a+k*l+T*p+E*t,r[8]=S*n+A*s+C*h+P*v,r[9]=S*i+A*u+C*f+P*m,r[10]=S*o+A*c+C*d+P*g,r[11]=S*a+A*l+C*p+P*t,r[12]=L*n+R*s+I*h+e*v,r[13]=L*i+R*u+I*f+e*m,r[14]=L*o+R*c+I*d+e*g,r[15]=L*a+R*l+I*p+e*t,r},multiplyVec3:function(t,e,r){r||(r=e);var n=e[0],i=e[1];return e=e[2],r[0]=t[0]*n+t[4]*i+t[8]*e+t[12],r[1]=t[1]*n+t[5]*i+t[9]*e+t[13],r[2]=t[2]*n+t[6]*i+t[10]*e+t[14],r},multiplyVec4:function(t,e,r){r||(r=e);var n=e[0],i=e[1],o=e[2];return e=e[3],r[0]=t[0]*n+t[4]*i+t[8]*o+t[12]*e,r[1]=t[1]*n+t[5]*i+t[9]*o+t[13]*e,r[2]=t[2]*n+t[6]*i+t[10]*o+t[14]*e,r[3]=t[3]*n+t[7]*i+t[11]*o+t[15]*e,r},translate:function(t,e,r){var n=e[0],i=e[1];if(e=e[2],!r||t==r)return t[12]=t[0]*n+t[4]*i+t[8]*e+t[12],t[13]=t[1]*n+t[5]*i+t[9]*e+t[13],t[14]=t[2]*n+t[6]*i+t[10]*e+t[14],t[15]=t[3]*n+t[7]*i+t[11]*e+t[15],t;var o=t[0],a=t[1],s=t[2],u=t[3],c=t[4],l=t[5],h=t[6],f=t[7],d=t[8],p=t[9],v=t[10],m=t[11];return r[0]=o,r[1]=a,r[2]=s,r[3]=u,r[4]=c,r[5]=l,r[6]=h,r[7]=f,r[8]=d,r[9]=p,r[10]=v,r[11]=m,r[12]=o*n+c*i+d*e+t[12],r[13]=a*n+l*i+p*e+t[13],r[14]=s*n+h*i+v*e+t[14],r[15]=u*n+f*i+m*e+t[15],r},scale:function(t,e,r){var n=e[0],i=e[1];return e=e[2],r&&t!=r?(r[0]=t[0]*n,r[1]=t[1]*n,r[2]=t[2]*n,r[3]=t[3]*n,r[4]=t[4]*i,r[5]=t[5]*i,r[6]=t[6]*i,r[7]=t[7]*i,r[8]=t[8]*e,r[9]=t[9]*e,r[10]=t[10]*e,r[11]=t[11]*e,r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r):(t[0]*=n,t[1]*=n,t[2]*=n,t[3]*=n,t[4]*=i,t[5]*=i,t[6]*=i,t[7]*=i,t[8]*=e,t[9]*=e,t[10]*=e,t[11]*=e,t)},rotate:function(t,e,r,n){var i=r[0],o=r[1];r=r[2];var a=Math.sqrt(i*i+o*o+r*r);if(!a)return null;1!=a&&(i*=a=1/a,o*=a,r*=a);var s=Math.sin(e),u=Math.cos(e),c=1-u;e=t[0],a=t[1];var l=t[2],h=t[3],f=t[4],d=t[5],p=t[6],v=t[7],m=t[8],g=t[9],y=t[10],w=t[11],b=i*i*c+u,x=o*i*c+r*s,M=r*i*c-o*s,k=i*o*c-r*s,T=o*o*c+u,E=r*o*c+i*s,S=i*r*c+o*s;return i=o*r*c-i*s,o=r*r*c+u,n?t!=n&&(n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15]):n=t,n[0]=e*b+f*x+m*M,n[1]=a*b+d*x+g*M,n[2]=l*b+p*x+y*M,n[3]=h*b+v*x+w*M,n[4]=e*k+f*T+m*E,n[5]=a*k+d*T+g*E,n[6]=l*k+p*T+y*E,n[7]=h*k+v*T+w*E,n[8]=e*S+f*i+m*o,n[9]=a*S+d*i+g*o,n[10]=l*S+p*i+y*o,n[11]=h*S+v*i+w*o,n},rotateX:function(t,e,r){var n=Math.sin(e);e=Math.cos(e);var i=t[4],o=t[5],a=t[6],s=t[7],u=t[8],c=t[9],l=t[10],h=t[11];return r?t!=r&&(r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]):r=t,r[4]=i*e+u*n,r[5]=o*e+c*n,r[6]=a*e+l*n,r[7]=s*e+h*n,r[8]=i*-n+u*e,r[9]=o*-n+c*e,r[10]=a*-n+l*e,r[11]=s*-n+h*e,r},rotateY:function(t,e,r){var n=Math.sin(e);e=Math.cos(e);var i=t[0],o=t[1],a=t[2],s=t[3],u=t[8],c=t[9],l=t[10],h=t[11];return r?t!=r&&(r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]):r=t,r[0]=i*e+u*-n,r[1]=o*e+c*-n,r[2]=a*e+l*-n,r[3]=s*e+h*-n,r[8]=i*n+u*e,r[9]=o*n+c*e,r[10]=a*n+l*e,r[11]=s*n+h*e,r},rotateZ:function(t,e,r){var n=Math.sin(e);e=Math.cos(e);var i=t[0],o=t[1],a=t[2],s=t[3],u=t[4],c=t[5],l=t[6],h=t[7];return r?t!=r&&(r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]):r=t,r[0]=i*e+u*n,r[1]=o*e+c*n,r[2]=a*e+l*n,r[3]=s*e+h*n,r[4]=i*-n+u*e,r[5]=o*-n+c*e,r[6]=a*-n+l*e,r[7]=s*-n+h*e,r},frustum:function(t,e,r,n,i,o,a){a||(a=B.create());var s=e-t,u=n-r,c=o-i;return a[0]=2*i/s,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=2*i/u,a[6]=0,a[7]=0,a[8]=(e+t)/s,a[9]=(n+r)/u,a[10]=-(o+i)/c,a[11]=-1,a[12]=0,a[13]=0,a[14]=-o*i*2/c,a[15]=0,a},perspective:function(t,e,r,n,i){return e*=t=r*Math.tan(t*Math.PI/360),B.frustum(-e,e,-t,t,r,n,i)},ortho:function(t,e,r,n,i,o,a){a||(a=B.create());var s=e-t,u=n-r,c=o-i;return a[0]=2/s,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=2/u,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=-2/c,a[11]=0,a[12]=-(t+e)/s,a[13]=-(n+r)/u,a[14]=-(o+i)/c,a[15]=1,a},lookAt:function(t,e,r,n){n||(n=B.create());var i=t[0],o=t[1];t=t[2];var a=r[0],s=r[1],u=r[2];r=e[1];var c,l,h,f,d=e[2];return i==e[0]&&o==r&&t==d?B.identity(n):(r=i-e[0],d=o-e[1],e=t-e[2],c=s*(e*=f=1/Math.sqrt(r*r+d*d+e*e))-u*(d*=f),u=u*(r*=f)-a*e,a=a*d-s*r,(f=Math.sqrt(c*c+u*u+a*a))?(c*=f=1/f,u*=f,a*=f):a=u=c=0,s=d*a-e*u,l=e*c-r*a,h=r*u-d*c,(f=Math.sqrt(s*s+l*l+h*h))?(s*=f=1/f,l*=f,h*=f):h=l=s=0,n[0]=c,n[1]=s,n[2]=r,n[3]=0,n[4]=u,n[5]=l,n[6]=d,n[7]=0,n[8]=a,n[9]=h,n[10]=e,n[11]=0,n[12]=-(c*i+u*o+a*t),n[13]=-(s*i+l*o+h*t),n[14]=-(r*i+d*o+e*t),n[15]=1,n)},str:function(t){return"["+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+"]"}},H=function(){function t(e,r,n){a()(this,t),D()(this,"buffer",void 0),D()(this,"dataType",void 0),D()(this,"bufferType",void 0),this.dataType=n,this.buffer=window.gl.createBuffer(),this.buffer.itemSize=this.dataType.size,this.bufferType=window.gl["".concat(r.toUpperCase(),"_BUFFER")]}return u()(t,[{key:"bind",value:function(){window.gl.bindBuffer(this.bufferType,this.buffer)}},{key:"setAttribute",value:function(t){this.bind(),window.gl.vertexAttribPointer(t.location,this.buffer.itemSize,window.gl.FLOAT,!1,0,0)}},{key:"value",set:function(t){var e={float:Float32Array,int:Uint16Array};this.bind(),window.gl.bufferData(this.bufferType,new e[this.dataType.item](t),window.gl.STATIC_DRAW),this.buffer.numItems=t.length/this.buffer.itemSize}}]),t}(),V=function t(e,r,n){a()(this,t),D()(this,"location",void 0),D()(this,"dataType",void 0),this.dataType=n,this.location=window.gl.getAttribLocation(e.programHandle,r),window.gl.enableVertexAttribArray(this.location)},X=function(){function t(e,r,n){a()(this,t),D()(this,"location",void 0),D()(this,"dataType",void 0),this.dataType=n,this.location=window.gl.getUniformLocation(e.programHandle,r),this.name=r}return u()(t,[{key:"value",set:function(t){var e={float:"f",int:"i"};switch(this.dataType.container){case"vec2":case"vec3":case"vec4":return window.gl["uniform".concat(this.dataType.size).concat(e[this.dataType.item],"v")](this.location,t);case"mat2":case"mat3":case"mat4":return window.gl["uniformMatrix".concat(this.dataType.size,"fv")](this.location,!1,t);default:return window.gl["uniform1".concat(e[this.dataType.item])](this.location,t)}}}]),t}(),$=function(){function t(){var e;a()(this,t),D()(this,"program",(e={},D()(e,WebGLRenderingContext.FRAGMENT_SHADER,{head:"",definitions:{uniform:{},varying:{}},body:""}),D()(e,WebGLRenderingContext.VERTEX_SHADER,{definitions:{attribute:{},uniform:{},varying:{}},body:""}),e)),D()(this,"programHandle",void 0),D()(this,"buffers",{}),D()(this,"attributes",{}),D()(this,"uniforms",{}),D()(this,"prefix",Math.random().toString(36).substring(7))}return u()(t,[{key:"init",value:function(){var t=function(t){var e,r,n=t.trim().split(/\s+/);return{size:parseInt(null!==(e=n[0].split(/(\d)$/)[1])&&void 0!==e?e:1),container:n[0],item:null!==(r=n[1])&&void 0!==r?r:"int"}},e=window.gl.createProgram();for(var r in this.program){var n=window.gl.createShader(r),i=this.program[r],o=i.head?i.head+"\n":"";for(var a in i.definitions)for(var s in i.definitions[a]){var u=t(i.definitions[a][s]);o+="".concat(a," ").concat(u.container," ").concat(s,";"),o+="\n"}if(o+=i.body,window.gl.shaderSource(n,o),window.gl.compileShader(n),!window.gl.getShaderParameter(n,window.gl.COMPILE_STATUS))throw new Error(window.gl.getShaderInfoLog(n));window.gl.attachShader(e,n)}if(window.gl.linkProgram(e),!window.gl.getProgramParameter(e,window.gl.LINK_STATUS))throw new Error("Could not initialise sources");for(var c in this.programHandle=e,this.program){var l=this.program[c].definitions;for(var h in l)for(var f in l[h]){var d=t(l[h][f]);switch(h){case"attribute":this.attributes[f]=new V(this,f,d),this.buffers[f]=new H(this,"array",d);break;case"uniform":this.uniforms[f]=new X(this,f,d)}}}}},{key:"bindAttributesToBuffers",value:function(){for(var t in this.attributes)this.buffers[t].setAttribute(this.attributes[t]);return this}},{key:"use",value:function(){window.gl.useProgram(this.programHandle)}},{key:"draw",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"TRIANGLES";switch(this.buffers[t].bind(),e){case"index":window.gl.drawElements(window.gl[r],this.buffers[t].buffer.numItems,window.gl.UNSIGNED_SHORT,0);break;case"position":window.gl.drawArrays(window.gl[r],0,this.buffers[t].buffer.numItems);break;default:throw new Error("ShaderProgram.draw() second argument is unexpected")}}}],[{key:"factory",value:function(){var t=new this;return t.init(),t}}]),t}(),K=function(){function t(){a()(this,t),D()(this,"src",void 0),D()(this,"index",void 0)}var r,n;return u()(t,[{key:"init",value:(n=i()(e().mark((function t(r){var n,i=this;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=window.gl.createTexture()).image=new Image,n.image.src=r,t.abrupt("return",new Promise((function(t,e){n.image.onload=function(e){window.gl.pixelStorei(window.gl.UNPACK_FLIP_Y_WEBGL,!0),window.gl.bindTexture(window.gl.TEXTURE_2D,n),window.gl.texImage2D(window.gl.TEXTURE_2D,0,window.gl.RGBA,window.gl.RGBA,window.gl.UNSIGNED_BYTE,n.image),window.gl.texParameteri(window.gl.TEXTURE_2D,window.gl.TEXTURE_MAG_FILTER,window.gl.LINEAR),window.gl.texParameteri(window.gl.TEXTURE_2D,window.gl.TEXTURE_MIN_FILTER,window.gl.LINEAR_MIPMAP_NEAREST),window.gl.generateMipmap(window.gl.TEXTURE_2D),window.gl.bindTexture(window.gl.TEXTURE_2D,null),i.texture=n,t(e)},n.image.onerror=e})));case 4:case"end":return t.stop()}}),t)}))),function(t){return n.apply(this,arguments)})},{key:"bind",value:function(){window.gl.activeTexture(window.gl["TEXTURE".concat(this.index)]),window.gl.bindTexture(window.gl.TEXTURE_2D,this.texture)}}],[{key:"instance",value:(r=i()(e().mark((function t(r){var n;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=null,window.gl.textures?n=window.gl.textures.find((function(t){return t.src===r})):window.gl.textures=[],n){t.next=9;break}return n=new this,t.next=6,n.init(r);case 6:n.index=window.gl.textures.length,n.src=r,window.gl.textures.push(n);case 9:return t.abrupt("return",n);case 10:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})}]),t}(),q=r(506),Y=r.n(q);var Z=function(t){f()(i,t);var e,r,n=(e=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=m()(e);if(r){var i=m()(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return p()(this,t)});function i(){var t,e;a()(this,i);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return e=n.call.apply(n,[this].concat(o)),D()(Y()(e),"program",(t={},D()(t,WebGLRenderingContext.FRAGMENT_SHADER,{head:"precision mediump float;",definitions:{uniform:{uMaterialAmbientColor:"vec4 float",uMaterialDiffuseColor:"vec4 float",uMaterialSpecularColor:"vec4 float",uMaterialShininess:"float float",uLightAmbientColor:"vec3 float",uLightDiffuseColor:"vec3 float",uLightSpecularColor:"vec3 float",uTextureSampler:"sampler2D int",uUseTexture:"bool int",uSpecularMapSampler:"sampler2D int",uUseSpecularMap:"bool int"},varying:{vLightDirection:"vec3 float",vTextureCoord:"vec2 float",vTransformedNormal:"vec3 float",vTransformedPosition:"vec3 float"}},body:"\nvoid main(void) {\n\t// установка вектора камеры\n\tvec3 viewVectorEye = -normalize(vTransformedPosition);\n\n\t// получаем вектор отраженного луча и нормализуем его\n\tvec3 reflectionVector = normalize(reflect(-vLightDirection, vTransformedNormal));\n\t \n\t// получаем скалярное произведение векторов нормали и направления света\n\tfloat diffuseLightWeighting = max(dot(vTransformedNormal, vLightDirection), 0.0);\n\tfloat specularLightWeighting = pow(max(dot(reflectionVector, viewVectorEye), 0.0), uMaterialShininess);\n\n\tvec4 materialAmbientColor;\n\tvec4 materialDiffuseColor;\n\tvec4 materialSpecularColor;\n\n\tif (uUseTexture) {\n\t    vec3 textureColor = texture2D(uTextureSampler, vec2(vTextureCoord.s, vTextureCoord.t)).rgb;\n\t\tmaterialSpecularColor = vec4(textureColor, uMaterialSpecularColor[3]);\n\t\tmaterialDiffuseColor = vec4(textureColor, uMaterialDiffuseColor[3]);\n\t\tmaterialAmbientColor = vec4(textureColor, uMaterialAmbientColor[3]);\n\t\tif (uUseSpecularMap) {\n\t\t\tif (texture2D(uSpecularMapSampler, vec2(vTextureCoord.s, vTextureCoord.t)).r * 255.0 > 128.0) {\n\t\t\t\tspecularLightWeighting = .0;\n\t\t\t}\n\t\t}\n\t} else {\n\t\tmaterialSpecularColor = uMaterialSpecularColor;\n\t\tmaterialDiffuseColor = uMaterialDiffuseColor;\n\t\tmaterialAmbientColor = uMaterialAmbientColor;\n\t}\n\n\t// отраженный свет равен сумме фонового, диффузного и зеркального отражений света\n\n\tvec4 color = materialAmbientColor * vec4(uLightAmbientColor, 1.) + \n\t\tmaterialDiffuseColor * vec4(uLightDiffuseColor, 1.) * diffuseLightWeighting +\n\t\tmaterialSpecularColor * vec4(uLightSpecularColor, 1.) * specularLightWeighting;\n\n\tgl_FragColor = color;\n}"}),D()(t,WebGLRenderingContext.VERTEX_SHADER,{definitions:{attribute:{aVertexPosition:"vec3 float",aVertexNormal:"vec3 float",aTextureCoord:"vec2 float"},uniform:{uLightPosition:"vec3 float",uPMatrix:"mat4 float",uNMatrix:"mat3 float"},varying:{vLightDirection:"vec3 float",vTextureCoord:"vec2 float",vTransformedNormal:"vec3 float",vTransformedPosition:"vec3 float"}},body:'\nvoid main(void) {\n\t// получаем позицию вершины в "мировых" координатах\n\tvec4 position = uPMatrix * vec4(aVertexPosition, 1.0);\n\tvTransformedPosition = position.xyz;\n\t// получаем вектор направления света\n\tvLightDirection = normalize(uLightPosition - vTransformedPosition);\n\n\tgl_Position = position;\n\n//\tif (uUseTexture) {\n    \tvTextureCoord = aTextureCoord;\n//    } else {\n//        vTextureCoord = vec2(.0, .0);\n//    }\n\tvTransformedNormal = normalize(uNMatrix * aVertexNormal);\n}'}),t)),e}return i}($);function J(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return Q(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Q(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function Q(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var tt=function(){function t(){a()(this,t),D()(this,"shaderClass",Z),D()(this,"shaderProgram",void 0),D()(this,"textureFile",void 0),D()(this,"texture",void 0),D()(this,"specularMapFile",void 0),D()(this,"specularMap",void 0),D()(this,"bumpMapFile",void 0),D()(this,"bumpMap",void 0),D()(this,"material",void 0),D()(this,"pMatrix",B.identity(B.create())),D()(this,"children",[]),D()(this,"vertPositions",[]),D()(this,"vertNormals",[]),D()(this,"textureCoords",[]),D()(this,"vertIndices",[]),D()(this,"renderMode","index"),D()(this,"tile","TRIANGLES"),D()(this,"looking",{angle:N([0,0,0]),up:N([0,1,0])}),D()(this,"animations",{}),D()(this,"mousePrevent",!1)}var r,n,o,s,c;return u()(t,[{key:"init",value:(c=i()(e().mark((function t(){var r=arguments;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.build.apply(this,r);case 2:if(!this.textureFile){t.next=6;break}return t.next=5,K.instance(this.textureFile);case 5:this.texture=t.sent;case 6:if(!this.specularMapFile){t.next=10;break}return t.next=9,K.instance(this.specularMapFile);case 9:this.specularMap=t.sent;case 10:if(!this.bumpMapFile){t.next=14;break}return t.next=13,K.instance(this.bumpMapFile);case 13:this.bumpMap=t.sent;case 14:return t.abrupt("return",this.vertPositions.length);case 15:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})},{key:"save",value:(s=i()(e().mark((function t(r){var n,i=arguments;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:"data.json",t.abrupt("return",fetch("".concat(r,"?filename=").concat(n),{method:"POST",body:JSON.stringify(this.dump()),headers:{"Content-Type":"application/json","Content-Disposition":"attachment; name='data'; filename='".concat(n,"'")}}));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return s.apply(this,arguments)})},{key:"build",value:(o=i()(e().mark((function r(n){var i,o,a;return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:this.vertPositions=n.vertices.positions,this.vertNormals=n.vertices.normals,this.textureCoords=n.vertices.texture.length?n.vertices.texture:new Array(n.vertices.positions.length/3*2).fill(0),this.vertIndices=n.vertices.indices,this.textureFile=n.maps.texture,this.bumpMapFile=n.maps.bump,this.specularMapFile=n.maps.specular,this.renderMode=n.renderMode,this.tile=n.tile,this.pMatrix=B.create(n.pMatrix),this.material=n.material,this.looking=n.looking,this.looking.angle=N(this.looking.angle),this.looking.up=N(this.looking.up),this.animations=n.animations,i=J(n.children),e.prev=18,i.s();case 20:if((o=i.n()).done){e.next=29;break}return a=o.value,e.t0=this,e.next=25,t.load(a);case 25:e.t1=e.sent,e.t0.insert.call(e.t0,e.t1);case 27:e.next=20;break;case 29:e.next=34;break;case 31:e.prev=31,e.t2=e.catch(18),i.e(e.t2);case 34:return e.prev=34,i.f(),e.finish(34);case 37:case"end":return e.stop()}}),r,this,[[18,31,34,37]])}))),function(t){return o.apply(this,arguments)})},{key:"dump",value:function(){var t=[];this.children.forEach((function(e){return t.push(e.dump())}));var e=[];return this.pMatrix.forEach((function(t){e.push(t)})),{shaderName:this.shaderProgram?this.shaderProgram.constructor.name:void 0,className:this.constructor.name,vertices:{positions:this.vertPositions,normals:this.vertNormals,texture:this.textureCoords,indices:this.vertIndices},maps:{texture:this.textureFile,bump:void 0,specular:this.specularMapFile},renderMode:this.renderMode,tile:this.tile,pMatrix:e,material:this.material,looking:this.looking,animations:this.animations,children:t}}},{key:"initShader",value:function(){var t=this.shaderProgram=this.shaderClass.factory();t.buffers.aVertexPosition.value=this.vertPositions,t.buffers.aVertexNormal.value=this.vertNormals,t.buffers.aTextureCoord.value=this.textureCoords,t.buffers.aIndex=new H(t,"element_array",{size:1,item:"int"}),t.buffers.aIndex.value=this.vertIndices}},{key:"initUniforms",value:function(t){var e=this.shaderProgram,r=z();B.toInverseMat3(t,r),W(r),e.uniforms.uPMatrix.value=t,e.uniforms.uNMatrix.value=r,e.bindAttributesToBuffers(),this.texture?(e.uniforms.uUseTexture.value=1,e.uniforms.uTextureSampler.value=this.texture.index,this.texture.bind(),this.specularMap?(e.uniforms.uUseSpecularMap.value=1,e.uniforms.uTextureSampler.value=this.texture.index,this.specularMap.bind()):e.uniforms.uUseSpecularMap.value=0):(e.uniforms.uUseTexture.value=0,e.uniforms.uUseSpecularMap.value=0),this.light?(e.uniforms.uLightPosition.value=this.light.position,e.uniforms.uLightAmbientColor.value=this.light.ambient,e.uniforms.uLightDiffuseColor.value=this.light.diffuse,e.uniforms.uLightSpecularColor.value=this.light.specular):(e.uniforms.uLightPosition.value=[1,1,1],e.uniforms.uLightAmbientColor.value=[1,1,1],e.uniforms.uLightDiffuseColor.value=[1,1,1],e.uniforms.uLightSpecularColor.value=[1,1,1]),this.material?(e.uniforms.uMaterialAmbientColor.value=this.material.ambient,e.uniforms.uMaterialDiffuseColor.value=this.material.diffuse,e.uniforms.uMaterialSpecularColor.value=this.material.specular,e.uniforms.uMaterialShininess.value=this.material.shininess):(e.uniforms.uMaterialAmbientColor.value=[0,0,0,1],e.uniforms.uMaterialDiffuseColor.value=[0,0,0,1],e.uniforms.uMaterialSpecularColor.value=[0,0,0,1],e.uniforms.uMaterialShininess.value=16)}},{key:"addPosition",value:function(t){var e;(e=this.vertPositions).push.apply(e,I()(t))}},{key:"addNormal",value:function(t){var e;(e=this.vertNormals).push.apply(e,I()(t))}},{key:"addTextureCoords",value:function(t){var e;(e=this.textureCoords).push.apply(e,I()(t))}},{key:"getIndex",value:function(t,e,r){var n=this.vertPositions.length/3;return this.addPosition(t),this.addNormal(e),r&&this.addTextureCoords(r),n}},{key:"addTriangle",value:function(t,e,r){if(r||(r={a:null,b:null,c:null}),!e){var n=U(G(O(t.b,t.a,[]),O(t.c,t.a,[])));e={a:n,b:n,c:n}}var i,o=[this.getIndex(t.a,e.a,r.a),this.getIndex(t.b,e.b,r.b),this.getIndex(t.c,e.c,r.c)];return"index"===this.renderMode?(i=this.vertIndices).push.apply(i,o)-3:0}},{key:"translate",value:function(t){return this.pMatrix=B.translate(this.pMatrix,t),this}},{key:"scale",value:function(t){return this.pMatrix=B.scale(this.pMatrix,t),this}},{key:"rotate",value:function(t,e){return this.pMatrix=B.rotate(this.pMatrix,t,e),this}},{key:"toLocalPosition",value:function(t){return B.multiplyVec3(B.inverse(this.pMatrix,B.create()),t,N())}},{key:"lookAt",value:function(t){var e=N([this.pMatrix[12],this.pMatrix[13],this.pMatrix[14]]),r=B.translate(B.identity(B.create()),e),n=B.toRotationMat(B.inverse(B.lookAt(t,this.looking.angle,this.looking.up)));B.multiply(r,n,this.pMatrix)}},{key:"insert",value:function(t){return this.children.push(t),t}},{key:"propagationInit",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.vertPositions.length||e)for(var r in t)this[r]=t[r];return this.children.forEach((function(r){r.propagationInit(t,e)})),this}},{key:"render",value:function(t){var e=B.multiply(t,this.pMatrix,[]);if(this.shaderProgram){this.shaderProgram.use(),this.initUniforms(e);var r={index:"aIndex",position:"aVertexPosition"}[this.renderMode];this.shaderProgram.draw(r,this.renderMode,this.tile)}this.children.forEach((function(t){return t.render(e)}))}},{key:"startAnimation",value:function(t,e){t instanceof Object||(t=this.animations[t]),t&&(t.queue instanceof Array&&t.queue.push(e),t.started||(t.started=!0,t.phase=0))}},{key:"stopAnimation",value:function(t){t instanceof Object||(t=this.animations[t]),t&&(t.started=!1,delete t.phase)}},{key:"pauseAnimation",value:function(t){t instanceof Object||(t=this.animations[t]),t&&(t.paused=!0)}},{key:"replayAnimation",value:function(t){t instanceof Object||(t=this.animations[t]),t&&(t.paused=!1)}},{key:"animation",value:function(){for(var t in this.animations){var e=this.animations[t];if(e.started&&!e.paused){var r="animation$"+t;this[r]instanceof Function&&(this[r](e)?this.stopAnimation(e):Number.MAX_SAFE_INTEGER>e.phase?++e.phase:e.phase=0)}}this.children.forEach((function(t){return t.animation()}))}},{key:"propagationMouseEvent",value:function(t,e,r){if(!this.mousePrevent){var n=this.toLocalPosition(e),i="on".concat(t);this[i]instanceof Function&&!1===this[i](e,r)||this.children.forEach((function(e){return e.propagationMouseEvent(t,n,r)}))}}},{key:"propagationStartEvent",value:function(t){var e=this;this.onStart instanceof Function&&this.onStart(t),this.children.forEach((function(t){return t.propagationStartEvent(e)}))}},{key:"light",get:function(){return window.gl.light},set:function(t){this.window.gl.light=t}},{key:"camera",get:function(){return window.camera}}],[{key:"factory",value:(n=i()(e().mark((function t(){var r,n=arguments;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new this,t.next=3,r.init.apply(r,n);case 3:if(!t.sent){t.next=5;break}r.initShader();case 5:return t.abrupt("return",r);case 6:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"load",value:(r=i()(e().mark((function t(r){var n;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.inheritedClasses[r.className]||this,t.abrupt("return",n.factory(r));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})}]),t}();D()(tt,"inheritedClasses",{}),D()(tt,"shaderClasses",{});var et=function(t){f()(i,t);var e,r,n=(e=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=m()(e);if(r){var i=m()(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return p()(this,t)});function i(){var t;a()(this,i);for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return t=n.call.apply(n,[this].concat(r)),D()(Y()(t),"animations",{thunderstorm:{lightningIntervals:{min:640,max:960}},lightning:{}}),D()(Y()(t),"calmLight",{ambient:[.7,.7,.7],diffuse:[.7,.7,.7],specular:[.7,.7,.7],position:[-30,-30,-20]}),t}return u()(i,[{key:"start",value:function(){return this.bgColor=[0,0,0,0],this.translate([0,0,-7]),l()(m()(i.prototype),"start",this).call(this)}},{key:"animation$thunderstorm",value:function(t){void 0===t.stop&&(t.stop=t.lightningIntervals.min+Math.round((t.lightningIntervals.max-t.lightningIntervals.min)*Math.random())),t.phase>=t.stop&&(t.phase=0,t.stop=void 0,this.startAnimation("lightning"))}},{key:"animation$lightning",value:function(t){switch(t.phase){case 0:case 15:t.cssClass="l"+Math.floor(4*Math.random()).toString(),document.body.classList.add(t.cssClass),window.gl.light={ambient:[1,1,1],diffuse:[1,1,1],specular:[1,1,1],position:[100*(Math.random()-.5),100*(Math.random()-.5),-20]};break;case 10:case 25:document.body.classList.remove(t.cssClass),window.gl.light=this.calmLight,t.cssClass=void 0}if(t.phase>=25)return!0}}]),i}(function(t){f()(c,t);var r,n,o,s=(n=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=m()(n);if(o){var r=m()(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return p()(this,t)});function c(){var t;a()(this,c);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t=s.call.apply(s,[this].concat(r)),D()(Y()(t),"fovy",45),D()(Y()(t),"aspect",void 0),D()(Y()(t),"near",.1),D()(Y()(t),"far",100),D()(Y()(t),"vMatrix",void 0),D()(Y()(t),"xRay",!1),D()(Y()(t),"dragState",!1),D()(Y()(t),"mouse",{position:{original:void 0,viewPoint:void 0},buttons:0,shiftKey:!1,altKey:!1,ctrlKey:!1}),D()(Y()(t),"timer",{counter:0,interval:16,animatorId:void 0,rendererId:void 0}),D()(Y()(t),"eventMap",{wheel:t.handlerWheel,mousewheel:t.handlerWheel,mousedown:t.handlerMouseDown,mouseup:t.handlerMouseUp,mousemove:t.handlerMouseMove,resize:t.handlerResize,touchstart:t.handlerTouchStart,touchmove:t.handlerTouchMove,touchend:t.handlerTouchEnd}),t}return u()(c,[{key:"init",value:(r=i()(e().mark((function t(){var r,n,i,o,a=arguments;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(o in r=a.length>0&&void 0!==a[0]?a[0]:document.createElement("canvas"),n=a.length>1&&void 0!==a[1]?a[1]:{},i=window.gl=r.getContext("webgl2"),n)this[o]=n[o];this.xRay?(i.blendFunc(i.SRC_ALPHA,i.ONE),i.enable(i.BLEND),i.disable(i.DEPTH_TEST)):(i.disable(i.BLEND),i.enable(i.DEPTH_TEST)),window.camera=this;case 6:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"start",value:function(){if(this.timer.rendererId)throw new Error("The animation already started");for(var t in this.resize(),this.eventMap)window.addEventListener(t,this.eventMap[t].bind(this),{passive:!0});return this.timer.rendererId=window.requestAnimationFrame(this.render.bind(this)),this.timer.animatorId=window.setInterval(this.animation.bind(this),this.timer.interval),this.scene.propagationStartEvent(this),this}},{key:"stop",value:function(){if(!this.timer.rendererId)throw new Error("The animation does not started yet");for(var t in window.clearInterval(this.timer.animatorId),this.timer.animatorId=void 0,window.cancelAnimationFrame(this.timer.rendererId),this.timer.rendererId=void 0,this.eventMap)window.removeEventListener(t,this.eventMap[t].bind(this),{passive:!0});return this}},{key:"resize",value:function(){var t=window.gl.canvas;return this.aspect=t.clientWidth/t.clientHeight,this.vMatrix=B.perspective(this.fovy,this.aspect,this.near,this.far),this}},{key:"appendTo",value:function(t){var e=window.gl.canvas;if(e.parentNode)throw new Error("Canvas already in document");return t.appendChild(e),this}},{key:"insert",value:function(t){throw new Error("Camera does not support method insert(). You can use the setter [scene] property instead.")}},{key:"toLocalPosition",value:function(t){var e=B.multiplyVec3(B.inverse(this.vMatrix,B.create()),N([2*t[0]/window.gl.canvas.width-1,1-2*t[1]/window.gl.canvas.height,0]));return e[2]*=-1,e}},{key:"render",value:function(){var t=window.gl.canvas,e=Math.floor(t.clientWidth*window.devicePixelRatio),r=Math.floor(t.clientHeight*window.devicePixelRatio);t.width==e&&t.height==r||(t.width=e,t.height=r),window.gl.viewport(0,0,t.width,t.height),window.gl.clear(window.gl.COLOR_BUFFER_BIT|window.gl.DEPTH_BUFFER_BIT),l()(m()(c.prototype),"render",this).call(this,B.multiply(this.vMatrix,this.pMatrix,B.create())),this.timer.rendererId=window.requestAnimationFrame(this.render.bind(this))}},{key:"handlerTouchEnd",value:function(t){switch(t.touches.length){case 1:return this.handlerMouseUp(t.touches[0])}}},{key:"handlerMouseUp",value:function(t){this.dragState=!1,this.saveMouseState(t),this.propagationMouseEvent("MouseUp",this.mouse.position.original,this.mouse)}},{key:"handlerTouchStart",value:function(t){switch(t.touches.length){case 1:return this.handlerMouseDown(t.touches[0])}}},{key:"handlerMouseDown",value:function(t){this.dragState=!0,this.saveMouseState(t),this.propagationMouseEvent("MouseDown",this.mouse.position.original,this.mouse)}},{key:"handlerTouchMove",value:function(t){switch(t.touches.length){case 1:return this.handlerMouseMove(t.touches[0])}}},{key:"handlerMouseMove",value:function(t){var e=N([t.clientX*window.devicePixelRatio,t.clientY*window.devicePixelRatio,0]);if(this.dragState){var r=F(O(e,this.mouse.position.original,[]),-this.pMatrix[14]/5e3),n=B.identity(B.create());B.rotateY(n,r[0]),B.rotateX(n,r[1]),this.propagationMouseEvent("Drag",e,n)}this.saveMouseState(t),this.propagationMouseEvent("MouseMove",e,this.mouse)}},{key:"handlerWheel",value:function(t){this.handlerMouseUp(t),this.mouse.offsetScroll=t.deltaMode?t.deltaY/50:t.deltaY/5e3,this.propagationMouseEvent("Wheel",this.mouse.position.original,this.mouse)}},{key:"handlerResize",value:function(t){this.resize(window.gl)}},{key:"saveMouseState",value:function(t){this.mouse.position.original=N([t.clientX*window.devicePixelRatio,t.clientY*window.devicePixelRatio,0]),this.mouse.position.viewPoint=this.toLocalPosition(this.mouse.position.original),this.mouse.altKey=t.altKey,this.mouse.ctrlKey=t.ctrlKey,this.mouse.shiftKey=t.shiftKey,this.mouse.buttons=t.buttons}},{key:"onWheel",value:function(t,e){this.translate([0,0,e.offsetScroll])}},{key:"light",set:function(t){window.gl.light=t}},{key:"bgColor",set:function(t){var e;(e=window.gl).clearColor.apply(e,I()(t))}},{key:"scene",set:function(t){this.children[0]=t},get:function(){return this.children[0]}}]),c}(tt));const rt={Text:{onMouseDown:function(t,e){this.startAnimation("fright")},animation$rotate:function(t){this.rotate(-.01,[0,1,0])},animation$fright:function(t){if(t.phase===t.stop)return!0;t.phase+1>t.stop>>1?this.scale([.96,.96,.96]):this.scale([25/24,25/24,25/24])}},Bones:{onMouseDown:function(t,e){this.startAnimation("fright")},animation$fright:function(t){if(t.phase===t.stop)return!0;t.phase+1>t.stop>>1?(this.children[0].rotate(.01,[0,1,0]),this.children[1].rotate(.01,[0,1,0])):(this.children[0].rotate(-.01,[0,1,0]),this.children[1].rotate(-.01,[0,1,0]))}},Eye:{onMouseMove:function(t,e){this.lookAt(t)}},Skull:{onMouseDown:function(t,e){this.startAnimation("fright")},onMouseMove:function(t,e){e.shiftKey?this.lookAt(t):this.startAnimation("lookAt",t)},animation$lookAt:function(t){var e=this;if(t.phase>t.lag){var r=t.queue.shift();r?this.lookAt(r):this.stopAnimation("lookAt")}this.eyes.children.forEach((function(t){return t.lookAt(e.toLocalPosition(e.camera.mouse.position.viewPoint))}))},jawMove:function(t){t&&(t>0?this.cranium.jaw.rotate(t/10,[1,0,0]).translate([0,t,0]):this.cranium.jaw.translate([0,t,0]).rotate(t/10,[1,0,0]))},animation$cigar:function(t){if(t.phase||this.jawMove(.5),t.phase===t.stop)return this.jawMove(-.5),t.direction=-t.direction,!0;this.cigar.rotate(t.gap,[0,t.direction,0])},animation$gesture:function(t){t.phase%600||this.startAnimation("cigar")},animation$fright:function(t){if(t.phase||(this.pauseAnimation("cigar"),this.mousePrevent=!0),t.phase===t.stop)return this.mousePrevent=!1,this.replayAnimation("cigar"),!0;t.phase+1>t.stop>>1?(this.jawMove(-.5),this.eyes.scale([.96,.96,.96]).translate([0,0,-.3]),this.hat.translate([0,-.3,0]),this.cigar.translate([0,0,-.3]).rotate(.025,[-1,0,0])):(this.jawMove(.5),this.eyes.translate([0,0,.3]).scale([25/24,25/24,25/24]),this.hat.translate([0,.3,0]),this.cigar.rotate(.025,[1,0,0]).translate([0,0,.3]))}}};var nt=function(t){f()(c,t);var r,n,o,s=(n=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=m()(n);if(o){var r=m()(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return p()(this,t)});function c(){return a()(this,c),s.apply(this,arguments)}return u()(c,[{key:"build",value:(r=i()(e().mark((function t(r){return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l()(m()(c.prototype),"build",this).call(this,r);case 2:this.skull=this.children[0],this.skull.cranium=this.skull.children[0],this.skull.cranium.propagationInit({texture:this.skull.cranium.texture}),this.skull.cranium.head=this.skull.cranium.children[0],this.skull.cranium.jaw=this.skull.cranium.children[1],this.skull.hat=this.skull.children[1],this.skull.eyes=this.skull.children[2],this.skull.eyes.propagationInit({texture:this.skull.eyes.texture}),this.skull.eyes.children.forEach((function(t){Object.assign(t,rt.Eye)})),this.skull.cigar=this.skull.children[3],Object.assign(this.skull,rt.Skull),this.text=this.children[1],Object.assign(this.text.children[0],rt.Text),this.bones=this.children[2],Object.assign(this.bones,rt.Bones),Object.assign(this,rt.Scene);case 18:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})}]),c}(tt);tt.inheritedClasses={Scene:nt},tt.shaderClasses={C3dShaderDefault:Z},et.factory().then((function(t){fetch("scene.json").then((function(e){e.json().then((function(e){tt.load(e).then((function(e){t.light=t.calmLight,t.scene=e;var r=document.createElement("body");t.appendTo(r),document.body=r,t.startAnimation("thunderstorm"),t.start()}))}))}))}))})()})();